<!-- index.html -->
<main id="conteudo"></main>

<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Infinity Graff - SPA Teste</title>
  
  <style>
    body {
  font-family: system-ui, sans-serif;
  margin: 0;
  background: #fafafa;
  color: #222;
}

nav {
  background: #111;
  padding: 10px 20px;
  display: flex;
  gap: 15px;
}

nav a {
  color: #fff;
  text-decoration: none;
  font-weight: bold;
  transition: 0.2s;
}

nav a:hover {
  color: #ffcc00;
}

main {
  padding: 40px;
  max-width: 800px;
  margin: auto;
}

.page h1 {
  margin-bottom: 10px;
  font-size: 1.8em;
}

.tabela {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

.tabela th, .tabela td {
  border-bottom: 1px solid #ddd;
  padding: 12px;
  text-align: left;
}

.tabela tr:hover {
  background: #f3f3f3;
  cursor: pointer;
}

.produto {
  text-align: center;
}

.produto .preco {
  font-size: 1.5em;
  margin: 20px 0;
  color: #008000;
}

a {
  color: #0077cc;
}

  </style>
</head>
<body>
  <nav>
    <a href="/" onclick="IrPara('/', event)">üè† In√≠cio</a>
    <a href="/loja" onclick="IrPara('/loja', event)">üõí Loja</a>
  </nav>

  <main id="conteudo"></main>

</body>

<script>// --- Corrige redirecionamentos do 404 (GitHub Pages) ---
const rotaParam = new URLSearchParams(location.search).get('r');
if (rotaParam) history.replaceState(null, '', rotaParam);

// --- Dados fict√≠cios de produtos ---
const Produtos = [
  { id: '123', nome: 'Adesivo Naruto', preco: 30, desc: 'Adesivo vinil premium' },
  { id: '124', nome: 'Camiseta One Piece', preco: 80, desc: 'Estampa Luffy Gear 5' },
  { id: '125', nome: 'Caneca Demon Slayer', preco: 45, desc: 'Caneca 325ml personalizada' }
];

// --- Seleciona o container ---
const Conteudo = document.getElementById('conteudo');

// --- Roteador principal ---
function Router() {
  const path = location.pathname.split('/').filter(Boolean);

  if (path[0] === 'loja' && path[1]) {
    MostrarProduto(path[1]);
  } else if (path[0] === 'loja') {
    MostrarLoja();
  } else {
    MostrarHome();
  }
}

// --- P√°ginas ---
function MostrarHome() {
  Conteudo.innerHTML = `
    <section class="page">
      <h1>Bem-vindo √† Infinity Graff</h1>
      <p>Este √© um teste de navega√ß√£o SPA com GitHub Pages.</p>
    </section>`;
}

function MostrarLoja() {
  Conteudo.innerHTML = `
    <section class="page">
      <h1>üõí Loja</h1>
      <table class="tabela">
        <thead><tr><th>Produto</th><th>Pre√ßo</th></tr></thead>
        <tbody>
          ${Produtos.map(p=>`
            <tr onclick="AbrirProduto('${p.id}')">
              <td>${p.nome}</td><td>R$ ${p.preco}</td>
            </tr>`).join('')}
        </tbody>
      </table>
    </section>`;
}

function MostrarProduto(id) {
  const p = Produtos.find(p=>p.id===id);
  if (!p) {
    Conteudo.innerHTML = `<section class="page"><h2>Produto n√£o encontrado</h2></section>`;
    return;
  }

  Conteudo.innerHTML = `
    <section class="page produto">
      <h1>${p.nome}</h1>
      <p>${p.desc}</p>
      <p class="preco">üí∞ R$ ${p.preco}</p>
      <a href="/loja" onclick="IrPara('/loja', event)">‚Üê Voltar √† Loja</a>
    </section>`;
}

// --- Fun√ß√µes de navega√ß√£o ---
function IrPara(url, ev) {
  ev.preventDefault();
  history.pushState(null, '', url);
  Router();
}

function AbrirProduto(id) {
  history.pushState(null, '', '/loja/' + id);
  Router();
}

// --- Detecta bot√µes Voltar/Avan√ßar ---
window.onpopstate = Router;

// --- Inicializa ---
Router();

</script>
</html>