<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Auth Supabase</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
    const SUPABASE_URL      = "https://adxigvfxtafvlmpvwwvb.supabase.co"
    const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFkeGlndmZ4dGFmdmxtcHZ3d3ZiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE1Njc1NTEsImV4cCI6MjA2NzE0MzU1MX0.wc90qDuSNhtolJBd4qLEux3xCwJwPuTTFb3gZMKUBYU"
    const supabase          = window.supabase.createClient(SUPABASE_URL,SUPABASE_ANON_KEY)
</script>
</head>
<body>

<h2>Cadastro</h2>
<form id="signup-form">
  <input type="email" id="email" placeholder="Email" required>
  <input id="password" placeholder="Senha" required>
  <button type="submit">Criar Conta</button>
</form>

<h2>Login</h2>
<form id="login-form">
  <input type="email" id="login-email" placeholder="Email" required>
  <input id="login-password" placeholder="Senha" required>
  <button type="submit">Entrar</button>
</form>

<button id="logout-btn">Logout</button>

<div id="msg"></div>

<script>
    const msg = document.getElementById('msg');

    document.getElementById('signup-form').addEventListener('submit', async e => {
    e.preventDefault();
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;
    const { error } = await supabase.auth.signUp({ email, password });
    msg.textContent = error ? error.message : 'Conta criada! Confirme seu email.';
    });

    document.getElementById('login-form').addEventListener('submit', async e => {
    e.preventDefault();
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;
    const { data, error } = await supabase.auth.signInWithPassword({ email, password });
    msg.textContent = error ? error.message : `Login bem-sucedido! UsuÃ¡rio: ${data.user.email}`;
    });

    document.getElementById('logout-btn').addEventListener('click', async () => {
    await supabase.auth.signOut();
    msg.textContent = 'Logout feito!';
    });
</script>

</body>
</html>
